# Hummingbot - Today In DeFi Fork

## ğŸ§­ å°ˆæ¡ˆç°¡ä»‹ / Project Overview

æœ¬æ–‡ä»¶è¨˜éŒ„æˆ‘å€‘é‡å° **Hummingbot** ç­–ç•¥è…³æœ¬ `v2_funding_rate_arb.py` çš„é–‹ç™¼ä»»å‹™ã€‚æ­¤ç­–ç•¥æ˜¯ç‚ºäº†é€éä¸åŒäº¤æ˜“æ‰€ä¹‹é–“çš„è³‡é‡‘è²»ç‡å·®ç•°é€²è¡Œå¥—åˆ©æ“ä½œï¼Œç„¶è€ŒåŸå§‹å¯¦ä½œåœ¨**åˆ©æ½¤è¨ˆç®—æº–ç¢ºæ€§ã€é¢¨éšªæ§åˆ¶æ©Ÿåˆ¶ã€é‚è¼¯å½ˆæ€§èˆ‡éŒ¯èª¤å®¹éŒ¯èƒ½åŠ›**ç­‰æ–¹é¢ä»æœ‰æ”¹é€²ç©ºé–“ã€‚

æˆ‘å€‘é€éåˆ†éšæ®µä»»å‹™è¨­è¨ˆï¼Œé‡å°ä¸‹åˆ—å•é¡Œé€æ­¥é€²è¡Œå¼·åŒ–ï¼š

- åƒ…è€ƒæ…®ç•¶å‰è³‡é‡‘è²»ç‡ï¼Œç¼ºä¹é æ¸¬æ€§èˆ‡é¢¨éšªç·©è¡æ©Ÿåˆ¶
- å‡è¨­å›ºå®šäº¤æ˜“è²»ç‡ï¼Œæœªå€åˆ† taker/maker æ¨¡å¼
- å›å‚³çµæœåªè€ƒæ…®å–®ä¸€çµ„åˆï¼Œé™åˆ¶ç­–ç•¥å¤šæ¨£æ€§
- ç¼ºä¹éŒ¯èª¤è™•ç†èˆ‡è³‡æ–™é©—è­‰ï¼Œé›£ä»¥åµéŒ¯æˆ–è‡ªæˆ‘ä¿è­·
- ç¨‹å¼çµæ§‹ä¸æ˜“æ“´å……ï¼Œä¸åˆ©æ–¼å…§éƒ¨æ¨¡çµ„æˆ–é‚è¼¯é‡ç”¨

é€éé€™å€‹é–‹ç™¼è¨ˆç•«ï¼Œæˆ‘å€‘å¸Œæœ›æå‡ç­–ç•¥çš„**å¯é æ€§ã€å½ˆæ€§èˆ‡çœŸå¯¦å¯ç”¨æ€§**ï¼Œä¸¦ç‚ºå¾ŒçºŒé–‹ç™¼æ›´é€²éšçš„ DeFi ç­–ç•¥ï¼ˆå¦‚å¤šå¸‚å ´å¤šå¹£ç¨®è³‡é‡‘è²»ç‡å¥—åˆ©ã€æœŸç¾å¥—åˆ©ç­‰ï¼‰å¥ å®šç©©å›ºåŸºç¤ã€‚

---

This document tracks the internal development roadmap for improving the Hummingbot strategy script `v2_funding_rate_arb.py`. The strategy aims to exploit funding rate differences across exchanges. However, the original implementation has limitations in **profit estimation accuracy, risk control, logical flexibility, and robustness**.

Our phased development plan addresses issues such as:

- No forecasting of funding rates â€” overly reactive
- Hardcoded taker fees â€” no support for maker/mixed modes
- Only one arbitrage pair evaluated â€” not scalable for multi-pair
- Lack of error handling and market data validation
- Rigid structure â€” limits future modularization or reuse

By executing this roadmap, we aim to improve the **reliability, adaptability, and deployability** of the strategy, and lay a solid foundation for future advanced DeFi strategies (e.g., multi-leg arbitrage, cross-market hedging).

---

## ğŸ”§ ä¸‹ä¸€éšæ®µä»»å‹™å„ªå…ˆé †åº

### âœ… ç¬¬ä¸€éšæ®µï¼ˆå·²å®Œæˆï¼‰
| å„ªå…ˆç´š | ä»»å‹™ | ç‹€æ…‹ |
|--------|------|------|
| ğŸ”´ High | åŠ å…¥ `try/except` ä¿è­·èˆ‡é—œéµæ—¥èªŒè¨˜éŒ„ | âœ… å·²å®Œæˆä¸¦åˆä½µ PR |

---

### ğŸŸ¡ ç¬¬äºŒéšæ®µï¼ˆå·²å®Œæˆï¼‰
| å„ªå…ˆç´š | ä»»å‹™ | èªªæ˜ |
|--------|------|------|
| ğŸŸ¡ High | **äº¤æ˜“è²»ç”¨è¨­å®šé¸é …åŒ–** | âœ… å·²å®Œæˆï¼šåŠ å…¥ `fee_mode` è¨­å®šï¼Œæ”¯æ´ taker/maker/mixed æ¨¡å¼ã€‚ |
| ğŸŸ¡ High | **è£œä¸Š `self.ready_to_trade = True`** | âœ… å·²å®Œæˆï¼šåŠ å…¥ `start()` ç¢ºä¿ç‹€æ…‹é¡¯ç¤ºæ­£å¸¸ã€‚ |
| ğŸŸ¡ Medium | **å°‡ `get_most_profitable_combination()` å›å‚³æ”¹ç‚ºæ¸…å–®** | âœ… å·²å®Œæˆï¼šä½¿ç”¨æ’åºå›å‚³å¤šå€‹çµ„åˆï¼Œæå‡ç­–ç•¥éˆæ´»æ€§ã€‚ |

---

### ğŸŸ¢ ç¬¬ä¸‰éšæ®µï¼ˆæ¶æ§‹å„ªåŒ–èˆ‡é€²éšåŠŸèƒ½ï¼‰
| å„ªå…ˆç´š | ä»»å‹™ | èªªæ˜ |
|--------|------|------|
| ğŸŸ¢ Medium | **æ”¹ç”¨é›™é‚Šåƒ¹æ ¼å¹³å‡ä¼°ç®— Position Size** | é¿å…åªä¾è³´ `connector_1` å°è‡´éŒ¯èª¤ï¼Œæ”¹ç”¨é›™é‚Š mid priceã€‚éœ€èª¿æ•´ `get_position_executors_config()`ã€‚ |
| ğŸŸ¢ Medium | **æ”¹å–„å¹³å€‰æ¢ä»¶è¨­è¨ˆ** | æ”¹ç”¨ã€Œç§»å‹•å¼åœåˆ© + åœæã€çµ„åˆé‚è¼¯ï¼Œæå‡å‡ºå ´æ±ºç­–çš„å½ˆæ€§èˆ‡å®‰å…¨æ€§ã€‚å¯åƒè€ƒ `trailing_stop` æ¼”ç®—æ³•è¨­è¨ˆã€‚ |
| ğŸŸ¢ Medium | **è³‡é‡‘è²»ç‡æ­·å²é æ¸¬æ©Ÿåˆ¶** | ä½¿ç”¨éå»è³‡é‡‘è²»ç‡è¨ˆç®—è¶¨å‹¢ç·šæˆ–æ»‘å‹•å¹³å‡ï¼Œé æ¸¬æœªä¾† 8 å°æ™‚çš„è¶¨å‹¢ã€‚å¯ç°¡å–®å…ˆç”¨ EMAã€‚ |
| ğŸŸ¢ Medium | **é¢¨éšªæ§ç®¡èˆ‡å¸‚å ´è³‡æ–™é©—è­‰å¼·åŒ–** | ç‚ºæ¯æ¬¡äº¤æ˜“æ±ºç­–å‰çš„åƒ¹æ ¼èˆ‡è³‡é‡‘è²»ç‡è³‡æ–™åŠ å…¥æœ‰æ•ˆæ€§é©—è­‰ï¼ˆå¦‚éèˆŠã€ä¸åˆç†åƒ¹æ ¼æ’é™¤ï¼‰ã€‚ |

---

### âšª ç¬¬å››éšæ®µï¼ˆç´°ç¯€èˆ‡é¢¨éšªè™•ç†ï¼‰
| å„ªå…ˆç´š | ä»»å‹™ | èªªæ˜ |
|--------|------|------|
| âšª Low | **æ”¹å–„å‹åˆ¥å®šç¾©èˆ‡é è¨­å€¼** | ä¾‹å¦‚ `token_whitelist` ä½¿ç”¨ `Set[str]` ä¸”é è¨­ç‚º `{"WIF", "FET"}`ã€‚ |
| âšª Low | **è®Šæ•¸å‘½åæ›´ç›´è§€** | å°‡ `funding_rate_diff_stop_loss` æ”¹ç‚º `min_funding_rate_diff_to_stop` ç­‰ã€‚ |
| âšª Low | **è™•ç†è² çš„ TP å¤©æ•¸é¡¯ç¤ºå•é¡Œ** | é¿å…åœ¨ `Days to TP` é¡¯ç¤ºè² æ•¸å€¼ï¼Œå¼•å°ä½¿ç”¨è€…åšå‡ºèª¤åˆ¤ã€‚ |
| âšª Low | **ä½¿ç”¨è€…è¨­å®šå€¼é©—è­‰æ©Ÿåˆ¶** | ç‚ºæ‰€æœ‰ config æ¬„ä½åŠ å…¥ç¯„åœèˆ‡åˆæ³•å€¼æª¢æŸ¥ï¼Œæé«˜ä½¿ç”¨å®‰å…¨æ€§ã€‚ |
| âšª Low | **éƒ¨ä½å¤§å°å‹•æ…‹èª¿æ•´** | æ ¹æ“šå¸‚å ´æµå‹•æ€§æˆ–æ³¢å‹•åº¦è‡ªå‹•èª¿æ•´å–®æ¬¡ä¸‹å–®æ•¸é‡ï¼Œæ¸›å°‘é¢¨éšªã€‚ |
| âšª Low | **ç¼ºä¹é•·æœŸéƒ¨ä½å†å¹³è¡¡æ©Ÿåˆ¶** | è‹¥å¸‚å ´åƒ¹æ ¼åé›¢åŸå§‹é–‹å€‰åƒ¹å¤ªå¤šï¼Œå¯è€ƒæ…®é‡æ–°èª¿æ•´å…©é‚Šå€‰ä½ã€‚ |
